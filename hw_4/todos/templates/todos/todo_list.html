{% extends "base.html" %}

{% block title %}–°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á{% endblock %}

{% block content %}
    <h1>üìå –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á</h1>

    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#todoModal">
        –°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É
    </button>

    <div class="modal fade" id="todoModal" tabindex="-1" aria-labelledby="todoModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="todoModalLabel">–°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="–ó–∞–∫—Ä—ã—Ç—å"></button>
            </div>
            <div class="modal-body">
              <form method="post" action="{% url 'todo_create' %}">
                {% csrf_token %}
                <input type="hidden" name="todo_list" value="{{ todo_list.id }}">
                {{ form.as_p }}
                <button type="submit" class="btn btn-primary">–°–æ–∑–¥–∞—Ç—å</button>
              </form>
            </div>
          </div>
        </div>
      </div>

    {% for todo in todos %}
        <div>
            <h3>{{ todo.title }}</h3>
            <p>{{ todo.description }}</p>
            <p>{% if todo.completed %}‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ{% else %}‚ùå –ù–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ{% endif %}</p>
        </div>
    {% endfor %}
{% endblock %}
